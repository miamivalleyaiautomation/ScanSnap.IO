/* ==========================================================================
   ScanSnap â€” globals.css
   Modern glass UI + responsive sections
   ========================================================================== */

/* ===== THEME TOKENS ===== */
:root{
  --brand0:#00d1ff;
  --brand1:#4a90e2;
  --brand-grad:linear-gradient(135deg,var(--brand0),var(--brand1));

  /* Layout rhythm */
  --container-w: 1200px;
  --radius-lg: 18px;
  --radius-pill: 999px;

  /* Header/brand sizes (easy to tweak) */
  --brand-mark-h-header: 44px;   /* header icon height */
  --brand-word-h-header: 36px;   /* header wordmark height */
  --brand-mark-h-footer: 20px;   /* footer icon height */
  --brand-word-h-footer: 18px;   /* footer wordmark height */
}

html[data-theme="dark"]{
  --bg:#0b0d10; --fg:#e8eaed; --muted:#93a0b3; --line:#161b22; --card:#0f141a;
  --overlay:rgba(8,10,12,.72); --shadow:0 12px 40px rgba(0,0,0,.25);
}
html[data-theme="light"]{
  --bg:#ffffff; --fg:#0b1220; --muted:#546070; --line:#e6e9ef; --card:#ffffff;
  --overlay:rgba(255,255,255,.9); --shadow:0 10px 24px rgba(2,6,23,.06);
}

/* ===== BASE ===== */
*{box-sizing:border-box}
html{
  scroll-behavior: smooth;     /* smooth scrolling for anchor links */
  scroll-padding-top: 100px;   /* offset for sticky header */
}
html,body{
  margin:0; padding:0; background:var(--bg); color:var(--fg);
  font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
}
a{color:inherit; text-decoration:none}
img{max-width:100%; height:auto; display:block}
.container{ width:min(var(--container-w), 100% - 2rem); margin-inline:auto; }
.section{ padding:2rem 0; }
h1{ font-size:clamp(2.2rem,3.8vw + .4rem,3.4rem); line-height:1.08; margin:.2rem 0 .6rem; }
h2{ font-size:clamp(1.6rem,1.5vw + .6rem,2.2rem); margin:0 0 .6rem; }
h3{ font-size:1.15rem; margin:.2rem 0 .4rem; }
h4{ font-size:1rem; margin:.4rem 0 .3rem; font-weight:600; }
.muted{ color: var(--muted); }
.note{ color: var(--muted); font-size:.95rem; }
.accent{ color: var(--brand0); }
.lede{ font-size:1.25rem; line-height:1.6; margin:.8rem 0; }
.fine{ font-size:.9rem; color:var(--muted); line-height:1.5; }
.link{ color:var(--muted); transition:color .15s ease; }
.link:hover{ color:var(--fg); }

.tag{ 
  display:inline-block; 
  background:var(--brand-grad); 
  color:#00131c; 
  font-size:.75rem; 
  font-weight:700; 
  padding:.3rem .6rem; 
  border-radius:var(--radius-pill); 
  text-transform:uppercase; 
  letter-spacing:.5px; 
}

.feature{ 
  list-style:none; 
  padding:0; 
  margin:.8rem 0; 
}
.feature li{ 
  padding:.4rem 0; 
  border-bottom:1px solid var(--line); 
}
.feature li:last-child{ 
  border-bottom:none; 
}

.brand-row{ 
  display:flex; 
  flex-direction:column; 
  gap:.5rem; 
}

.sr-only{ 
  position:absolute!important; 
  width:1px; 
  height:1px; 
  padding:0; 
  margin:-1px; 
  overflow:hidden; 
  clip:rect(0 0 0 0); 
  white-space:nowrap; 
  border:0; 
}

/* Section headings - proper spacing for smooth scroll */
.section-heading {
  margin: 0 0 1.5rem 0;
  text-align: center;
  padding-top: 0.5rem;
}

.section-heading h2 {
  font-size: clamp(1.8rem, 2.5vw + 0.5rem, 2.5rem);
  margin: 0 0 0.5rem 0;
  color: var(--fg);
}

.section-heading p {
  color: var(--muted);
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto;
}

.btn{
  display:inline-flex; align-items:center; gap:.55rem;
  border:1px solid var(--line); padding:.6rem .95rem; border-radius:var(--radius-pill);
  background:transparent; color:var(--fg); cursor:pointer;
  transition:transform .06s ease, filter .15s ease;
}
.btn:hover{ filter:brightness(1.07) }
.btn:active{ transform:translateY(1px) }
.btn.primary{ background:var(--brand-grad); border-color:transparent; color:#00131c; font-weight:700 }
.btn.block{ width:100%; justify-content:center }

/* ===== GLASS HEADER ===== */
.site-header{ 
  position:sticky; 
  top:0; 
  z-index:50; 
  padding:12px 0; 
  background:transparent; 
}

.site-header.glass {
  backdrop-filter: saturate(180%) blur(14px);
  background: var(--overlay);
}

.nav-rail{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  background:var(--overlay); backdrop-filter:saturate(180%) blur(14px);
  border:1px solid var(--line); border-radius:var(--radius-pill); padding:8px;
}

/* Brand styling */
.nav-rail .brand-inline,
.nav-rail .brand-badge{
  all: unset;
  display:flex; 
  align-items:center;
  gap:10px; 
  line-height:0; 
  cursor:pointer;
  flex-shrink: 0;
}

.nav-rail .brand-inline img,
.nav-rail .brand-badge img{ 
  display:block; 
  height:auto; 
  flex-shrink: 0;
}

.nav-rail .mark{ 
  height:var(--brand-mark-h-header); 
  width:auto; 
  max-width: 44px;
}
.nav-rail .word{ 
  height:var(--brand-word-h-header); 
  width:auto; 
  max-width: 120px;
}

/* Desktop chip-nav - Show by default, hide on mobile */
.chip-nav{ 
  display: flex; 
  align-items: center; 
  gap: 8px; 
  flex-shrink: 1; 
}

.chip{
  display:inline-flex; align-items:center; gap:8px; height:36px; padding:0 14px;
  border:1px solid var(--line); border-radius:var(--radius-pill);
  background:transparent; color:var(--fg); font-weight:600;
  white-space: nowrap;
}
.chip:hover{ background:rgba(148,163,184,.08) }
.chip.primary{ background:var(--brand-grad); border-color:transparent; color:#00131c }

/* Right controls - Hide by default, show on mobile */
.right-controls{ 
  display: none; 
  align-items: center; 
  gap: 8px; 
  flex-shrink: 0;
}

.hamburger{
  border:1px solid var(--line); background:transparent; border-radius:10px;
  padding:8px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  flex-shrink: 0;
  color: var(--fg);
}
.hamburger:hover {
  background: rgba(148,163,184,.08);
}

.hamburger svg {
  color: inherit;
  stroke: currentColor;
}

/* Theme toggle button */
.theme-toggle{
  display:inline-flex !important; 
  align-items:center; 
  justify-content:center;
  height:40px; 
  width:40px; 
  min-width: 40px;
  border:1px solid var(--line); 
  border-radius:10px;
  background:transparent; 
  font-size:18px; 
  line-height:1; 
  cursor:pointer;
  transition:transform .06s ease, filter .15s ease;
  flex-shrink: 0;
  padding: 0 !important;
  gap: 0 !important;
}
.theme-toggle:hover{ filter:brightness(1.07) }
.theme-toggle:active{ transform:translateY(1px) }
.theme-toggle .emoji{ font-size: 18px; display: block; }

/* Hide any text in theme toggle, show only emoji */
.theme-toggle .sr-only { display: none !important; }
.theme-toggle span:not(.emoji) { display: none !important; }

/* Override btn styles for theme-toggle specifically */
button.theme-toggle,
.btn.theme-toggle,
button.btn.theme-toggle {
  padding: 0 !important;
  gap: 0 !important;
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  border-radius: 10px !important;
  display: inline-flex !important;
}

/* ===== MOBILE DRAWER ===== */
.menu-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition:opacity .18s ease;
}
.menu-backdrop.show{ opacity:1; pointer-events:auto; }
.menu-sheet{
  position:fixed; top:0; right:0; height:100dvh; width:min(86vw, 360px);
  background:var(--card); border-left:1px solid var(--line);
  transform:translateX(100%); transition:transform .22s ease; z-index:60;
  display:flex; flex-direction:column;
}
.menu-sheet.open{ transform:translateX(0%) }
.menu-head{ 
  display:flex; align-items:center; justify-content:space-between; gap:8px; 
  padding:14px; border-bottom:1px solid var(--line); 
}
.menu-body{ 
  padding:14px; 
  display:flex; 
  flex-direction:column; 
  gap:10px; 
  overflow:auto;
  flex: 1;
}
.menu-link{ 
  padding:10px 12px; 
  border:1px solid var(--line); 
  border-radius:10px; 
  display: block; 
  text-align: center;
}
.menu-inline{ 
  display: flex; gap: 8px; margin-top: 10px; 
}

/* Theme toggle in mobile menu */
.menu-body .theme-toggle {
  align-self: center;
  margin-top: 10px;
}

/* Brand in mobile menu header */
.menu-head .brand-inline .mark{ 
  height: 33px;
  max-width: 33px; 
}
.menu-head .brand-inline .word{ 
  display: none;
}

/* ===== THEME ASSET SWAP ===== */
html[data-theme="dark"] .word-light, 
html[data-theme="dark"] .mark-light { display:inline-block; }
html[data-theme="dark"] .word-dark,  
html[data-theme="dark"] .mark-dark  { display:none; }

html[data-theme="light"] .word-light,
html[data-theme="light"] .mark-light { display:none; }
html[data-theme="light"] .word-dark,
html[data-theme="light"] .mark-dark  { display:inline-block; }

/* Always show light favicon */
.mark-light { display:inline-block !important; }
.mark-dark { display:none !important; }

/* ===== HERO ===== */
.hero{ position:relative; overflow:hidden; border-bottom:1px solid var(--line); }
.bg-gradient{
  position:absolute; inset:-20% -10% auto -10%; height:50vh;
  background:
    radial-gradient(60% 80% at 20% 20%, rgba(0,209,255,.22), transparent 60%),
    radial-gradient(50% 60% at 80% 10%, rgba(74,144,226,.16), transparent 60%);
  filter:blur(38px); pointer-events:none;
}
html[data-theme="light"] .bg-gradient{ opacity:.7; filter:blur(50px) }

.hero-grid{
  display:grid; grid-template-columns:1.05fr .95fr; gap:2rem;
  align-items:center; padding:2.4rem 0 2rem;
}
.actions{ display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.8rem }
.badges{ margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap }

.device{ position:relative; border:1px solid var(--line); border-radius:18px; overflow:hidden; box-shadow:var(--shadow) }
.device-top{ height:16px; background:linear-gradient(180deg,#0e1217,#0b0e12); border-bottom:1px solid #11161c }
html[data-theme="light"] .device-top{ background:linear-gradient(180deg,#eef4ff,#e6ecf9); border-bottom:1px solid #d9e1ee }
.device img{ width:100%; height:min(62vh,520px); object-fit:cover; background:#0f141a }
html[data-theme="light"] .device img{ background:#ffffff }
.device .bar{ position:absolute; inset:auto 12px 12px auto; display:flex; gap:.5rem }
.pill{ background:transparent; border:1px solid var(--line); border-radius:var(--radius-pill); padding:.4rem .7rem; color:var(--fg); font-size:.85rem }

/* ===== CARDS & GRIDS ===== */
.card{ 
  background:var(--card); 
  border:1px solid var(--line); 
  border-radius:var(--radius-lg); 
  padding:1.1rem; 
  box-shadow:var(--shadow);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.grid{ display:grid; gap:1rem }
.grid.cols-2{ grid-template-columns:repeat(2,minmax(0,1fr)) }
.grid.cols-3{ grid-template-columns:repeat(3,minmax(0,1fr)) }

/* ===== PRICING ===== */
.pricing-grid{ 
  display: grid; 
  grid-template-columns: repeat(4, minmax(0, 1fr)); 
  gap: 1rem;
}

/* Ensure pricing cards have equal height */
.pricing-grid .card {
  height: 100%;
}

.plan .plan-head{ display:grid; gap:.25rem; margin-bottom:.6rem }
.plan .price{ font-size:2rem; font-weight:800 }
.plan .cta{ margin-top:.8rem }

/* ===== FOOTER ===== */
footer.site{ border-top:1px solid var(--line); background:transparent; padding:1.5rem 0; margin-top:2rem }
.foot-grid{ display:grid; grid-template-columns:1.2fr .6fr .6fr; gap:1rem }
.footer-brand{ display:flex; align-items:center; gap:10px; line-height:0 }
footer.site .footer-brand .mark{ height:var(--brand-mark-h-footer); width:auto }
footer.site .footer-brand .word{ height:var(--brand-word-h-footer); width:auto }

/* ===== RESPONSIVE MEDIA QUERIES ===== */

/* Mobile and tablet styles - HIDE desktop nav, SHOW mobile controls */
@media (max-width: 1023px) {
  /* Hide desktop navigation */
  .chip-nav { 
    display: none !important; 
  }
  
  /* Show mobile controls */
  .right-controls { 
    display: flex !important; 
  }
  
  /* Hide theme toggle from right controls on mobile (it's in the mobile menu) */
  .right-controls .theme-toggle { 
    display: none !important; 
  }
  
  /* Hide desktop user menu on mobile */
  .desktop-user-menu {
    display: none !important;
  }
  
  /* Mobile grid layouts */
  .hero-grid{ grid-template-columns:1fr }
  .grid.cols-2{ grid-template-columns:1fr }
  .grid.cols-3{ grid-template-columns:1fr }
  
  /* Mobile pricing with consistent width */
  .pricing-grid {
    grid-template-columns: 1fr !important;
    gap: 1.2rem;
    max-width: 100%;
    margin: 0 auto;
  }
  
  /* Consistent container width on mobile */
  .container {
    width: min(100% - 2rem, 640px);
    padding: 0 1rem;
  }
  
  /* Mobile nav rail adjustments */
  .nav-rail {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 60px;
  }
  
  /* Brand container - only shows the icon on left */
  .nav-rail .brand-inline,
  .nav-rail .brand-badge {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  /* Logo smaller on mobile */
  .nav-rail .mark{ 
    height: 33px;
    max-width: 33px; 
  }
  
  /* Move text image to center with absolute positioning */
  .nav-rail .word {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    height: 46px;
    max-width: 140px;
    z-index: 1;
  }
  
  /* Right controls stay on right */
  .right-controls {
    position: relative;
    z-index: 3;
  }
}

/* Desktop styles - SHOW desktop nav, HIDE mobile controls */
@media (min-width: 1024px) {
  /* Show desktop navigation */
  .chip-nav { 
    display: flex !important; 
  }
  
  /* COMPLETELY HIDE all mobile controls on desktop */
  .right-controls,
  .mobile-only,
  .hamburger {
    display: none !important;
    visibility: hidden !important;
    position: absolute !important;
    left: -9999px !important;
  }
  
  /* Desktop user menu */
  .desktop-user-menu {
    display: flex !important;
  }
}

/* Small mobile styles */
@media (max-width:640px){
  footer.site .footer-brand .mark{ height:18px }
  footer.site .footer-brand .word{ height:16px }
  
  .nav-rail {
    height: 64px;
  }
  
  .nav-rail .mark{ 
    height: 33px;
    max-width: 33px; 
  }
  
  .nav-rail .word {
    height: 50px;
    max-width: 150px;
  }
  
  .right-controls { 
    gap: 6px; 
  }
  
  /* Ensure consistent mobile container */
  .container {
    width: calc(100% - 2rem);
    max-width: 100%;
    padding: 0 1rem;
  }
  
  /* Fix pricing section on small screens */
  #pricing .container,
  .pricing-grid {
    width: 100%;
    max-width: 100%;
  }
  
  .pricing-grid .card {
    margin: 0;
  }
}

/* Ensure Clerk components use modal mode and appear correctly */
.cl-rootBox {
  position: fixed !important;
  z-index: 9999 !important;
}

.cl-userButtonPopoverCard {
  position: fixed !important;
  left: 50% !important;
  top: 80px !important;
  transform: translateX(-50%) !important;
  z-index: 9999 !important;
  max-width: 90vw;
}

[data-clerk-modal] {
  z-index: 9999 !important;
}

/* Prevent body scroll when modal is open */
body.cl-modal-open {
  overflow: hidden !important;
}
/* ===== MOBILE MENU Z-INDEX FIX ===== */
/* Add these CSS rules to your globals.css to fix the mobile menu layering */

/* ===== MOBILE DRAWER - UPDATED Z-INDEX ===== */
.menu-backdrop{
  position:fixed; 
  inset:0; 
  background:rgba(0,0,0,.35);
  opacity:0; 
  pointer-events:none; 
  transition:opacity .18s ease;
  z-index: 9998; /* Higher z-index to appear above sticky header */
}
.menu-backdrop.show{ 
  opacity:1; 
  pointer-events:auto; 
}

.menu-sheet{
  position:fixed; 
  top:0; 
  right:0; 
  height:100dvh; 
  width:min(86vw, 360px);
  background:var(--card); 
  border-left:1px solid var(--line);
  transform:translateX(100%); 
  transition:transform .22s ease; 
  z-index: 9999; /* Highest z-index to appear above everything */
  display:flex; 
  flex-direction:column;
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3); /* Enhanced shadow for better visibility */
}

.menu-sheet.open{ 
  transform:translateX(0%) 
}

/* Ensure hamburger button has proper z-index */
.hamburger {
  z-index: 51; /* Just above the sticky header */
  position: relative;
}

/* Site header z-index adjustment */
.site-header{ 
  position:sticky; 
  top:0; 
  z-index:50; /* Lower than mobile menu */
  padding:12px 0; 
  background:transparent; 
}

/* Additional safety for mobile menu content */
.menu-head,
.menu-body {
  position: relative;
  z-index: 1;
}

/* Ensure mobile menu appears above all content */
@media (max-width: 1023px) {
  .menu-backdrop {
    z-index: 9998 !important;
  }
  
  .menu-sheet {
    z-index: 9999 !important;
  }
  
  /* Prevent content from interfering with menu */
  body.menu-open {
    overflow: hidden;
  }
}

/* Force menu above everything else */
.menu-sheet,
.menu-backdrop {
  position: fixed !important;
  z-index: 9999 !important;
}
/* ===== HEADER SHAPE AND FAVICON THEME FIX ===== */
/* Add these CSS rules to your globals.css to fix header shape and favicon switching */

/* Update header shape - squared with smooth rounded edges */
.nav-rail{
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  gap:12px;
  background:var(--overlay); 
  backdrop-filter:saturate(180%) blur(14px);
  border:1px solid var(--line); 
  border-radius: 12px; /* Changed from var(--radius-pill) to smooth squared edges */
  padding:8px;
}

/* Fix favicon icon theme switching - REMOVE the always light rule */
.mark-light,
.mark-dark {
  /* Remove the always show light rule to allow proper theme switching */
}

/* Proper theme switching for favicon icons */
html[data-theme="dark"] .mark-light { 
  display: inline-block !important; 
}
html[data-theme="dark"] .mark-dark { 
  display: none !important; 
}

html[data-theme="light"] .mark-light { 
  display: none !important; 
}
html[data-theme="light"] .mark-dark { 
  display: inline-block !important; 
}

/* Keep text icon switching as is (working correctly) */
html[data-theme="dark"] .word-light { 
  display: inline-block; 
}
html[data-theme="dark"] .word-dark { 
  display: none; 
}

html[data-theme="light"] .word-light { 
  display: none; 
}
html[data-theme="light"] .word-dark { 
  display: inline-block; 
}

/* Additional refinements for the squared header */
.hamburger,
.chip,
.theme-toggle {
  border-radius: 8px; /* Slightly more squared for consistency */
}

/* Mobile menu elements to match */
.menu-link {
  border-radius: 8px; /* Match the squared theme */
}

.menu-sheet {
  border-radius: 12px 0 0 12px; /* Squared corners on the left side */
}